<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®€åŒ–JSONç¼–è¾‘å™¨æµ‹è¯•</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components/json-formatter.css">
    <style>
        body {
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-header {
            background: var(--primary-color);
            color: white;
            padding: 15px 20px;
            text-align: center;
        }
        .test-header h1 {
            margin: 0;
            font-size: 1.5rem;
        }
        .test-header p {
            margin: 5px 0 0 0;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>JSONç¼–è¾‘å™¨ - ç®€åŒ–ç‰ˆ</h1>
            <p>ä»…ä¿ç•™æ ¸å¿ƒåŠŸèƒ½ï¼šæ ¼å¼åŒ–ã€å‹ç¼©ã€å¤åˆ¶ã€æ¸…ç©º</p>
        </div>
        
        <!-- JSONè§£æå·¥å…· -->
        <div id="json-parser" class="tool-panel">
            <div class="tool-content single-layout">
                <div class="json-editor-section">
                    <!-- å·¥å…·æ  -->
                    <div class="json-toolbar">
                        <div class="toolbar-controls">
                            <button id="formatJson" class="btn-small primary">
                                <span class="btn-icon">âœ¨</span>æ ¼å¼åŒ–
                            </button>
                            <button id="compressJson" class="btn-small secondary">
                                <span class="btn-icon">ğŸ“¦</span>å‹ç¼©
                            </button>
                            <button id="copyJsonResult" class="btn-small secondary">
                                <span class="btn-icon">ğŸ“‹</span>å¤åˆ¶
                            </button>
                            <button id="clearJson" class="btn-small secondary">
                                <span class="btn-icon">ğŸ—‘ï¸</span>æ¸…ç©º
                            </button>
                        </div>
                        <!-- çŠ¶æ€ä¿¡æ¯ -->
                        <div class="status-info">
                            <span id="jsonStatus" class="status-text">å‡†å¤‡å°±ç»ª</span>
                            <span id="jsonStats" class="stats-text"></span>
                        </div>
                    </div>
                    
                    <!-- ç¼–è¾‘å™¨å’Œæ˜¾ç¤ºåŒºåŸŸ -->
                    <div class="json-editor-container">
                        <!-- æ–‡æœ¬ç¼–è¾‘å™¨ -->
                        <textarea id="jsonInput" class="json-editor" placeholder="è¯·è¾“å…¥JSONæ•°æ®..." rows="35">{"app":"BIXIN","merchantId":"P_M_200007","tradeType":"P_T_200744","tradeNo":"01000000729967175135448573100000","tradeSeq":"02000000729967175135448573100001","tradeSystem":"TRANSACTION","tradeBatNo":"06000000729967175135448573100002","tradeTime":"2025-07-01 00:00:00","bizNo":"b74ca98f07ab469092bbd9956e56a4b1","sceneCode":"DEFAULT","globalTime":"2025-07-01 15:21:26","fundTime":"2025-07-01 15:21:25","detailList":[{"uid":99998888,"accountType":"","asset":"SYSTEM_ASSET","assetId":"","assetDetailId":"","amount":0.99,"totalValue":0.99,"changeType":"O","reduceStrategy":"DEFAULT","fundType":0,"creditId":"","origin":"","freezeBalNo":"","journalType":"OUT_ACTIVITY","outId":"07000000729967175135448573100004","origOutId":"","ext":"{\"payId\":\"02000000729967175135448573100001\"}","checkExt":"{\"transTotalValue\":0.9900,\"actionTotalValue\":0.9900,\"payId\":\"02000000729967175135448573100001\"}","memo":""},{"uid":1835711051600002,"accountType":"","asset":"GIFT","assetId":"36151","assetDetailId":"","amount":1.00,"totalValue":0.99,"changeType":"I","reduceStrategy":"","fundType":0,"creditId":"","origin":"","freezeBalNo":"","journalType":"IN_ACTIVITY","outId":"07000000729967175135448573200000","origOutId":"","ext":"{\"magic_trade_no\":\"73ef149432ae4209aa016efe2576c38c\",\"expireTime\":1752595199999,\"payId\":\"02000000729967175135448573100001\",\"sceneType\":\"2\"}","checkExt":"{\"transTotalValue\":0.9900,\"actionTotalValue\":0.9900,\"payId\":\"02000000729967175135448573100001\"}","memo":"11å‘¨å¹´æ™®é€šå¥–æ± "}]}</textarea>
                        
                        <!-- æ ¼å¼åŒ–æ˜¾ç¤ºå™¨ -->
                        <div id="jsonOutput" class="json-formatted-display collapsible-output" data-placeholder="æ ¼å¼åŒ–åå°†åœ¨è¿™é‡Œæ˜¾ç¤ºå¯æŠ˜å çš„JSONç»“æ„..."></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/core/base-tool.js"></script>
    <script src="js/core/collapsible-formatter.js"></script>
    <script src="js/tools/json-tool.js"></script>
    <script>
        // åˆå§‹åŒ–JSONå·¥å…·
        const jsonTool = new JSONTool();
        jsonTool.init();

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        window.onload = function() {
            console.log('ç®€åŒ–JSONç¼–è¾‘å™¨æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            jsonTool.updateStatus('å‡†å¤‡å°±ç»ª', 'info');
            
            console.log('åŠŸèƒ½æµ‹è¯•ï¼š');
            console.log('1. ç‚¹å‡»æ ¼å¼åŒ– - åˆ‡æ¢åˆ°å¯æŠ˜å æ˜¾ç¤ºæ¨¡å¼');
            console.log('2. å†æ¬¡ç‚¹å‡»æ ¼å¼åŒ– - åˆ‡æ¢å›æ–‡æœ¬æ¨¡å¼');
            console.log('3. ç‚¹å‡»å‹ç¼© - å‹ç¼©JSONå¹¶ä¿æŒåœ¨æ–‡æœ¬æ¨¡å¼');
            console.log('4. å¯ä»¥ç›´æ¥ç‚¹å‡»æŠ˜å èŠ‚ç‚¹çš„+/-è¿›è¡Œæ“ä½œ');
        };
    </script>
</body>
</html>